setwd("C:/Users/Willwhite/Documents/Github/gllvmprime/data/HRS")
library(haven)
PATH_TO_DATA <- "./data"
folders <- list.dirs(PATH_TO_DATA)
folders <- folders[!(folders %in% PATH_TO_DATA)]
folders
test_file <- paste0(folders[1], "/H20a_h.dta")
test_file
test_file <- paste0(folders[1], "/H20d_r.dta")
View(test_file)
test <- haven::read_dta(test_file)
View(test)
write.csv("test.csv", file = data)
write.csv(test, file="test.csv")
names8test
names(test)
colnames(test)
str(test)
attr(test[[0]], "label")
attr(test[[1]], "label")
labels <- lapply(test, function(testi)attr(testi, "label"))
labels
labels <- unlist(lapply(test, function(testi)attr(testi, "label")))
labels
labels <- (lapply(test, function(testi)attr(testi, "label"))
labels
labels
labels <- lapply(test, function(testi)attr(testi, "label"))
labels
labels <- sapply(test, function(testi)attr(testi, "label"))
labels
dim(labels)
labels[0]
labels[1]
labels[2]
library(tidyverse)
labels %>% as_tibble()
labels %>% tibble()
labels
names(labels)
tibble(label=names(labels), description=labels)
tibble(label=names(labels), description=labels) %>% write_csv("data2020-cognition-labels.csv")
demographics <- paste0(folders[1], "/H20b_r.dta")
PATH_TO_DATA <- "./data"
folders <- list.dirs(PATH_TO_DATA)
folders <- folders[!(folders %in% PATH_TO_DATA)]
cognition <- paste0(folders[1], "/H20d_r.dta") %>% haven::read_dta
cognition <- paste0(folders[1], "/H20d_r.dta") %>% haven::read_dta()
cognition
demographics <- paste0(folders[1], "/H20b_r.dta") %>% haven::read_dta()
demographics
View(demographics)
test <- demographics
labels <- sapply(test, function(testi)attr(testi, "label"))
labels
tibble(label=names(labels), description=labels) %>% write_csv("data2020-demographics-labels.csv")
View(cognition)
install.packages("shiny")
